{"version":3,"sources":["app/lib/localStorageService.js","app/lib/createAxiosInterceptors.js","config/config.js","app/app/apis/index.js","app/app/sagas/index.js","app/models/layerType.js","app/app/reducers/index.js","app/app/store.js","app/serviceWorker.js","app/components/Map/MapLayers/MapLayers.js","app/components/CoordinatePointLayer/CoordinatePointLayer.js","app/components/LoginForm/styles.js","app/components/LoginForm/index.js","app/components/LoadingIndicator/index.js","app/app/utils/index.js","app/app/selectors/index.js","app/app/actions/index.js","app/components/LayersMenu/index.js","app/components/CoordinateInput/CoordinateInput.js","app/lib/getServerErrorMessage.js","app/lib/filterLayers.js","app/containers/Cockpit/Cockpit.js","app/containers/App/App.js","index.js"],"names":["LocalStorageService","_service","getService","this","setToken","tokenObj","access","localStorage","setItem","refresh","getAccessToken","getItem","getRefreshToken","clearToken","removeItem","localStorageService","MAP_DEFAULT_CENTER","api","axios","create","baseURL","withCredentials","interceptors","request","use","config","token","headers","error","Promise","reject","response","originalRequest","status","_retry","post","then","res","data","defaults","common","createAxiosInterceptors","API","getLatestModis24","url","getLatestViirs24","getLatestGoes","postAccountToken","email","password","logout","console","log","Cookies","get","getMe","getUserLayers","submitUserAuth","submitLogout","submitGetMe","submitGetUserLayers","actionWatcher","rootSaga","call","latestPoints","put","type","payload","action","isLoggedIn","takeEvery","all","LayerType","PUBLIC","Symbol","for","PRIVATE","ACTIVE_FIRES","BIG_FIRES","Set","Object","freeze","getPersistedVisibleLayers","persistedState","JSON","parse","map","persistVisibleLayers","visibleLayers","stringify","keyFor","deletePeristedVisibleLayers","getInitialState","VisibleLayerTypes","state","FIRMSLatestModis24Data","FIRMSLatestViirs24Data","GoesLatestData","UserAuthData","GetMeData","UserLayersData","layerType","has","delete","add","sagaMiddleware","createSagaMiddleware","configureStore","store","createStore","reducers","applyMiddleware","run","Boolean","window","location","hostname","match","MapLayers","props","layers","layer","hiddenLayers","indexOf","id","push","name","key","symbolLayout","symbolPaint","linePaint","circlePaint","fillPaint","circleOnClick","e","lngLat","CoordinatePointLayer","coords","Math","random","toString","paint","coordinates","styles","container","display","position","top","left","transform","alignItems","justifyContent","outline","form","background","width","borderRadius","padding","boxShadow","inputs","flexDirection","gap","LoginForm","open","setOpen","onSubmit","Modal","disableEnforceFocus","onClose","Box","sx","preventDefault","target","value","style","TextField","focused","label","required","Button","index","Backdrop","color","zIndex","theme","CircularProgress","getColName","possibleColumnNames","length","i","CSVToGeoJSON","CSVString","csvObject","strData","strDelimiter","objPattern","RegExp","arrData","arrMatches","exec","strMatchedValue","strMatchedDelimiter","replace","CSVToArray","latName","lonName","GeoJSON","item","hasOwnProperty","parseFloat","latLonColumnsToNumbers","firstRow","returnItem","forEach","columnName","shift","massageData","Point","DEFAULT_VISIBLE_LAYERS","getUserAuthData","createSelector","result","features","getMeData","getUserLayersData","getVisibleLayerTypesData","GetMeAction","LogOutAction","GetUserLayersAction","Menu","VisibleLayerTypesData","ToggleLayerTypeVisibilityAction","createLayerTypeSwitch","FormControlLabel","control","Switch","checked","onChange","Card","minWidth","xs","sm","CardContent","FormGroup","connect","dispatch","ToggleLayerTypeVisibility","isMenuVisible","setIsMenuVisible","useTheme","displayModal","useMediaQuery","breakpoints","up","menu","CoordinateInput","placeholder","className","showErrorMessage","detail","values","layerTypeFilter","is_public","includes","MainMap","ReactMapboxGl","accessToken","SubmitUserAuthAction","withRouter","useState","center","setLayers","userLayers","setUserLayers","coordinateInputValue","setCoordinateInputValue","queryString","search","query","setQuery","popup","setPopup","loginPopup","setLoginPopup","loading","setLoading","setMap","setError","mapRef","React","createRef","allLayers","escFunction","event","keyCode","coordinateSubmitHandler","coordinateValue","fly","split","myLayer","flyTo","zoom","useEffect","document","addEventListener","removeEventListener","coord","getServerErrorMessage","layerTypes","filters","filter","some","filterLayers","layerData","geojson_data","onClick","clickEvent","mapEvent","lat","lng","onStyleLoad","el","ref","containerStyle","height","antialias","offset","title","Grid","marginTop","IconButton","size","aria-label","component","fontSize","spacing","textAlign","md","variant","Snackbar","autoHideDuration","Alert","severity","LoadingIndicator","App","path","Cockpit","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9b54d9f7.chunk.js","sourcesContent":["const LocalStorageService = (function () {\n    var _service;\n    function _getService() {\n        if (!_service) {\n            _service = this;\n            return _service\n        }\n        return _service\n    }\n    function _setToken(tokenObj) {\n        tokenObj.access && localStorage.setItem('access_token', tokenObj.access);\n        tokenObj.refresh && localStorage.setItem('refresh_token', tokenObj.refresh);\n    }\n    function _getAccessToken() {\n        return localStorage.getItem('access_token');\n    }\n    function _getRefreshToken() {\n        return localStorage.getItem('refresh_token');\n    }\n    function _clearToken() {\n        localStorage.removeItem('access_token');\n        localStorage.removeItem('refresh_token');\n    }\n    return {\n        getService: _getService,\n        setToken: _setToken,\n        getAccessToken: _getAccessToken,\n        getRefreshToken: _getRefreshToken,\n        clearToken: _clearToken\n    }\n})();\nexport default LocalStorageService;","import LocalStorageService from \"./localStorageService\";\nconst localStorageService = LocalStorageService.getService();\nexport default (api) => {\n    // Add a request interceptor\n    api.interceptors.request.use(\n        config => {\n            const token = localStorageService.getAccessToken();\n            if (token) {\n                config.headers['Authorization'] = 'Bearer ' + token;\n            }\n            // config.headers['Content-Type'] = 'application/json';\n            return config;\n        },\n        error => {\n            Promise.reject(error)\n        });\n    api.interceptors.response.use((response) => {\n        return response\n    },\n        function (error) {\n            const originalRequest = error.config;\n            if (error.response.status === 403 && !originalRequest._retry) {\n                const refreshToken = localStorageService.getRefreshToken();\n                if (!refreshToken) {\n                    // Re-throw the original error if we have no refresh token.\n                    throw error;\n                }\n\n                originalRequest._retry = true;\n                return api.post(`v1/token/refresh/`,\n                    {\n                        \"refresh\": localStorageService.getRefreshToken()\n                    })\n                    .then(res => {\n                        if (res.status === 200) {\n                            // 1) put token to LocalStorage\n                            localStorageService.setToken(res.data);\n\n                            // 2) Change Authorization header\n                            api.defaults.headers.common['Authorization'] = 'Bearer ' + localStorageService.getAccessToken();\n\n                            // 3) return originalRequest object with Axios.\n                            return api(originalRequest);\n                        }\n                    });\n            }\n\n            // return Error object with Promise\n            return Promise.reject(error);\n        });\n}","export const MAPBOX_ACCESS_TOKEN = 'pk.eyJ1IjoiZGV2bmFubyIsImEiOiJja3I2ZXI2NWIzZXg2MnBtdDNjZXNhd2JnIn0.pKD3qaMPhllUm115EjNf-Q';\nexport const MAPBOX_DEFAULT_STYLE = 'mapbox://styles/mapbox/satellite-streets-v9';\nexport const MAP_DEFAULT_CENTER = [-64.273833, -31.006031]\n\nexport const API_DOMAIN = 'localhost';\nexport const MODIS_24_URL = 'http://127.0.0.1:8000/api/v1/firms/modis/';\nexport const VIIRS_24_URL = 'http://127.0.0.1:8000/api/v1/firms/viirs/';\nexport const GOES_URL = 'http://127.0.0.1:8000/api/v1/firms/goes/';\nexport const API_BASE_URL = `http://localhost:8000/api`;\n","import axios from 'axios';\nimport Cookies from 'js-cookie';\nimport LocalStorageService from \"../../lib/localStorageService\";\nimport createAxiosInterceptors from \"../../lib/createAxiosInterceptors\";\n\nimport {\n    MODIS_24_URL,\n    VIIRS_24_URL,\n    GOES_URL,\n    API_BASE_URL,\n} from '../../../config/config';\n\nconst localStorageService = LocalStorageService.getService();\n\n\nconst api = axios.create({ baseURL: API_BASE_URL, withCredentials: true });\n// Related to #37: handle auto JWT access and refresh token headers\n// (include headers and try to refresh it when we get 403)\n// Approach based on https://medium.com/swlh/handling-access-and-refresh-tokens-using-axios-interceptors-3970b601a5da\ncreateAxiosInterceptors(api);\n\nconst API = {\n    getLatestModis24: function () {\n        return axios({\n            url: MODIS_24_URL,\n        })\n    },\n    getLatestViirs24: function () {\n        return axios({\n            url: VIIRS_24_URL\n        })\n    },\n    getLatestGoes: function () {\n        return axios({\n            url: GOES_URL\n        })\n    },\n    postAccountToken: function (email, password) {\n        return api.post(`v1/token/`, {\n            email,\n            password\n        })\n    },\n    logout: function () {\n        console.log(Cookies.get());\n        // TODO: implement logout / token blacklist\n        // server side. See https://medium.com/django-rest/logout-django-rest-framework-eb1b53ac6d35\n        localStorageService.clearToken();\n        // return api.post(`v1/accounts/logout/`)\n    },\n    getMe: function () {\n        return api.get(`v1/accounts/me/`);\n    },\n    getUserLayers: function () {\n        return api.get(`v1/layers/`);\n    }\n};\n\nexport default API;\n","import { takeEvery, put, call, all } from 'redux-saga/effects';\nimport API from '../apis';\nimport LocalStorageService from \"../../lib/localStorageService\";\nconst localStorageService = LocalStorageService.getService();\n\nfunction* getLatestModis24() {\n    try {\n        const latestPoints = (yield call(API.getLatestModis24));\n        return yield put(\n            {\n                type: 'GET_LATEST_MODIS_24_SUCCESS',\n                payload: latestPoints,\n            },\n        );\n    } catch (e) {\n        console.error('[SAGA ERROR]', e);\n    }\n}\n\nfunction* getLatestViirs24() {\n    try {\n        const latestPoints = (yield call(API.getLatestViirs24));\n        return yield put(\n            {\n                type: 'GET_LATEST_VIIRS_24_SUCCESS',\n                payload: latestPoints,\n            },\n        );\n    } catch (e) {\n        console.error('[SAGA ERROR]', e);\n    }\n}\n\nfunction* getLatestGoes() {\n    try {\n        const latestPoints = (yield call(API.getLatestGoes));\n        return yield put(\n            {\n                type: 'GET_LATEST_GOES_SUCCESS',\n                payload: latestPoints,\n            },\n        );\n    } catch (e) {\n        console.error('[SAGA ERROR]', e);\n    }\n}\n\nfunction* submitUserAuth(action) {\n    const { email, password } = action.payload;\n    let payload = {}\n    try {\n        payload = yield call(API.postAccountToken, email, password);\n        localStorageService.setToken(payload.data);\n        payload.isLoggedIn = true;\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_USER_AUTH_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* submitLogout() {\n    let payload = { isLoggedIn: false }\n    try {\n        (yield call(API.logout));\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_LOGOUT_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* submitGetMe() {\n    let payload = {}\n    try {\n        payload = (yield call(API.getMe)).data;\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_GET_ME_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* submitGetUserLayers() {\n    let payload = {}\n    try {\n        payload = (yield call(API.getUserLayers)).data;\n    } catch (error) {\n        payload = { error };\n    }\n\n    return yield put(\n        {\n            type: 'SUBMIT_GET_USER_LAYERS_SUCCESS',\n            payload\n        },\n    );\n}\n\nfunction* actionWatcher() {\n    yield takeEvery('GET_LATEST_MODIS_24_EVENT', getLatestModis24)\n    yield takeEvery('GET_LATEST_VIIRS_24_EVENT', getLatestViirs24)\n    yield takeEvery('GET_LATEST_GOES_EVENT', getLatestGoes)\n    yield takeEvery('SUBMIT_USER_AUTH_EVENT', submitUserAuth)\n    yield takeEvery('SUBMIT_GET_ME_EVENT', submitGetMe)\n    yield takeEvery('SUBMIT_LOGOUT_EVENT', submitLogout)\n    yield takeEvery('GET_USER_LAYERS_EVENT', submitGetUserLayers)\n}\n\nexport default function* rootSaga() {\n    yield all([\n        actionWatcher(),\n    ]);\n}\n","const LayerType = {\n    PUBLIC: Symbol.for('LayerType.PUBLIC'),\n    PRIVATE: Symbol.for('LayerType.PRIVATE'),\n    ACTIVE_FIRES: Symbol.for('LayerType.ACTIVE_FIRES'),\n    BIG_FIRES: Symbol.for('LayerType.BIG_FIRES')\n  };\n\nLayerType.all = () => new Set([LayerType.PUBLIC, LayerType.PRIVATE, LayerType.ACTIVE_FIRES, LayerType.BIG_FIRES]);\n\nexport default Object.freeze(LayerType);\n  ","import LayerType from '../../models/layerType';\n\nconst VISIBLE_LAYERS_KEY = 'VISIBLE_LAYERS_KEY';\n\nconst getPersistedVisibleLayers = () => {\n  const persistedState = localStorage.getItem(VISIBLE_LAYERS_KEY);\n  return persistedState ? new Set(JSON.parse(persistedState).map(Symbol.for)) : LayerType.all();\n};\n\nconst persistVisibleLayers = (visibleLayers) => \n  localStorage.setItem(VISIBLE_LAYERS_KEY, visibleLayers && JSON.stringify([...visibleLayers].map(Symbol.keyFor)));\n\n\nconst deletePeristedVisibleLayers = () => localStorage.removeItem(VISIBLE_LAYERS_KEY);\n\nconst getInitialState =  () => ({\n  VisibleLayerTypes: getPersistedVisibleLayers()\n});\n\nexport default (state=getInitialState(), action) => {\n  \n  switch (action.type) {\n    case \"GET_LATEST_MODIS_24_SUCCESS\":\n      return {\n        ...state,\n        FIRMSLatestModis24Data: action.payload.data\n      };\n    case \"GET_LATEST_VIIRS_24_SUCCESS\":\n      return {\n        ...state,\n        FIRMSLatestViirs24Data: action.payload.data\n      };\n    case \"GET_LATEST_GOES_SUCCESS\":\n      return {\n        ...state,\n        GoesLatestData: action.payload.data\n      };\n    case \"SUBMIT_USER_AUTH_SUCCESS\":\n      return {\n        ...state,\n        UserAuthData: action.payload\n      };\n    case \"SUBMIT_GET_ME_SUCCESS\":\n        return {\n          ...state,\n          GetMeData: action.payload\n        };\n    case \"SUBMIT_LOGOUT_SUCCESS\":\n        if(action.payload.isLoggedIn === false) {\n          deletePeristedVisibleLayers();\n          return getInitialState();\n        }\n    case \"SUBMIT_GET_USER_LAYERS_SUCCESS\":\n      return {\n        ...state,\n        UserLayersData: action.payload\n      };\n    case \"TOGGLE_LAYER_TYPE_VISIBILITY\":\n      const {layerType} = action.payload;\n      const visibleLayers = new Set(state.VisibleLayerTypes);\n      visibleLayers.has(layerType) ? visibleLayers.delete(layerType) : visibleLayers.add(layerType);\n      persistVisibleLayers(visibleLayers);\n      return {\n        ...state,\n        VisibleLayerTypes: visibleLayers\n      }\n    default:\n    return state;\n  }\n};\n","import { createStore, applyMiddleware } from \"redux\";\nimport createSagaMiddleware from 'redux-saga'\nimport rootSaga from './sagas';\nimport reducers from \"./reducers\";\n\nconst sagaMiddleware = createSagaMiddleware()\n\nfunction configureStore() {\n  const store = createStore(\n    reducers,\n    applyMiddleware(sagaMiddleware)\n  );\n  sagaMiddleware.run(rootSaga);\n  return store;\n}\n\nexport default configureStore;\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport { GeoJSONLayer } from 'react-mapbox-gl';\n\nconst MapLayers = (props) => {\n    let layers = [];\n    props.layers.map(layer => {\n        if (props.hiddenLayers.indexOf(layer.id) === -1) {\n            if (layer.data) {\n                layers.push(<GeoJSONLayer\n                    id={layer.id}\n                    name={layer.id}\n                    key={layer.id}\n                    data={layer.data || null}\n                    symbolLayout={layer.symbolLayout}\n                    symbolPaint={layer.symbolPaint}\n                    linePaint={layer.linePaint}\n                    circlePaint={layer.circlePaint}\n                    fillPaint={layer.fillPaint}\n                    circleOnClick={(e) => {\n                        console.log(e.lngLat)\n                    }}\n                />)\n            } else {\n                layers.push(layer.layer);\n            }\n        }\n    })\n    return layers;\n};\n\nexport default MapLayers;","import React from 'react';\nimport { Layer, Feature } from 'react-mapbox-gl';\n\nconst CoordinatePointLayer = (coords) => {\n    return  {\n        id: Math.random().toString(),\n        layer:\n            <Layer type=\"circle\" key={Math.random().toString()} paint={{\n                \"circle-radius\": 10,\n                \"circle-color\": \"green\",\n            }}>\n                <Feature coordinates={coords} />\n            </Layer>\n    };\n}\n\nexport default CoordinatePointLayer;\n","const styles = {\n    container:{\n        display:\"flex\",\n        position: \"absolute\",\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        outline: 'none'\n    },\n    form: {\n        container: {\n            background:\"white\",\n            width: \"400px\",\n            borderRadius:\"8px\",\n            padding: \"20px\",\n            boxShadow: \"0 2px 4px rgba(0, 0, 0, .2), 0 8px 16px rgba(0, 0, 0, .2)\",\n        },\n        inputs: {\n            display:\"flex\",\n            flexDirection: \"column\",\n            gap: \"10px\",\n        }\n    },\n\n}\n\nexport default styles;","\nimport React from \"react\";\nimport styles from './styles';\nimport Modal from '@mui/material/Modal';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\n\nconst LoginForm = (props) => {\n    const { open, setOpen } = props;\n    const handleClose = () => setOpen(false);\n    const { onSubmit } = props;\n    return (\n        <Modal\n            // Known issue TODO: the email field focused is not working as expected within the modal parent. \n            // Spent like 15m on it but couldn't find a proper workaround it.\n            // disableAutoFocus\n            disableEnforceFocus\n            open={open}\n            onClose={handleClose}\n        >\n            <Box sx={styles.container}>\n\n                <form onSubmit={(e) => { \n                        e.preventDefault(); \n                        onSubmit(e.target.email.value, e.target.password.value); \n                    }} \n                    style={styles.form.container}>\n                    <div style={{...styles.form.inputs}}>\n                        <TextField focused label=\"Email\" id=\"email\" name=\"email\" required />   \n                        <TextField label=\"Password\" type=\"password\" id=\"password\" name=\"password\"  required />\n                        <Button type=\"submit\">Login</Button>\n                    </div>\n                </form>\n            </Box>\n        </Modal>);\n}\n\nexport default LoginForm;","import React from 'react'\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\nfunction index() {\n    return (<Backdrop\n        sx={{ color: '#fff', zIndex: (theme) => 9999 }}\n        open={true}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>);\n}\n\nexport default index\n","import GeoJSON from 'geojson';\n\n// Conversion code from: https://github.com/gavinr/csv-to-geojson\n\nfunction getColName(data, possibleColumnNames) {\n    if (!data || !data.length) return null;\n    for (var i = 0; i < data[0].length; i++) {\n      if (possibleColumnNames.indexOf(data[0][i]) !== -1) {\n        return data[0][i];\n      }\n    }\n    return null;\n  }\n\nfunction massageData(data) {\n    if (!data || !data.length) return null;\n    var firstRow = data[0];\n    var map = data.map(function(item) {\n      var returnItem = {},\n        i = 0;\n      firstRow.forEach(function(columnName) {\n        returnItem[columnName] = item[i++];\n      });\n      return returnItem;\n    });\n    //get rid of header\n    map.shift();\n    return map;\n  }\n\nfunction latLonColumnsToNumbers(data, latName, lonName) {\n    return data.map(function(item) {\n      if (item.hasOwnProperty(latName)) {\n        item[latName] = parseFloat(item[latName]);\n      }\n      if (item.hasOwnProperty(lonName)) {\n        item[lonName] = parseFloat(item[lonName]);\n      }\n      return item;\n    });\n  }\n\nexport const CSVToArray = ( strData, strDelimiter ) => {\n    // Check to see if the delimiter is defined. If not,\n    // then default to comma.\n    strDelimiter = (strDelimiter || \",\");\n\n    // Create a regular expression to parse the CSV values.\n    var objPattern = new RegExp(\n        (\n            // Delimiters.\n            \"(\\\\\" + strDelimiter + \"|\\\\r?\\\\n|\\\\r|^)\" +\n\n            // Quoted fields.\n            \"(?:\\\"([^\\\"]*(?:\\\"\\\"[^\\\"]*)*)\\\"|\" +\n\n            // Standard fields.\n            \"([^\\\"\\\\\" + strDelimiter + \"\\\\r\\\\n]*))\"\n        ),\n        \"gi\"\n        );\n\n\n    // Create an array to hold our data. Give the array\n    // a default empty first row.\n    var arrData = [[]];\n\n    // Create an array to hold our individual pattern\n    // matching groups.\n    var arrMatches = null;\n\n\n    // Keep looping over the regular expression matches\n    // until we can no longer find a match.\n    while (arrMatches = objPattern.exec( strData )){\n\n        // Get the delimiter that was found.\n        var strMatchedDelimiter = arrMatches[ 1 ];\n\n        // Check to see if the given delimiter has a length\n        // (is not the start of string) and if it matches\n        // field delimiter. If id does not, then we know\n        // that this delimiter is a row delimiter.\n        if (\n            strMatchedDelimiter.length &&\n            strMatchedDelimiter !== strDelimiter\n            ){\n\n            // Since we have reached a new row of data,\n            // add an empty row to our data array.\n            arrData.push( [] );\n\n        }\n\n        var strMatchedValue;\n\n        // Now that we have our delimiter out of the way,\n        // let's check to see which kind of value we\n        // captured (quoted or unquoted).\n        if (arrMatches[ 2 ]){\n\n            // We found a quoted value. When we capture\n            // this value, unescape any double quotes.\n            strMatchedValue = arrMatches[ 2 ].replace(\n                new RegExp( \"\\\"\\\"\", \"g\" ),\n                \"\\\"\"\n                );\n\n        } else {\n\n            // We found a non-quoted value.\n            strMatchedValue = arrMatches[ 3 ];\n\n        }\n\n\n        // Now that we have our value string, let's add\n        // it to the data array.\n        arrData[ arrData.length - 1 ].push( strMatchedValue );\n    }\n\n    // Return the parsed data.\n    return( arrData );\n}\n\nexport const CSVToGeoJSON = (CSVString) => {\n    const csvObject = CSVToArray(CSVString);\n    var latName = getColName(csvObject, ['lat', 'Lat', 'LAT', 'latitude', 'Latitude', 'LATITUDE']);\n    var lonName = getColName(csvObject, ['lng', 'Lng', 'LNG', 'lon', 'Lon', 'LON', 'longitude', 'Longitude', 'LONGITUDE']);\n    return GeoJSON.parse(latLonColumnsToNumbers(massageData(csvObject), latName, lonName), {\n        Point: [latName, lonName]\n      }\n    )\n}","import { createSelector } from 'reselect';\nimport { CSVToGeoJSON } from '../utils';\nimport LayerType from '../../models/layerType';\n\nconst DEFAULT_VISIBLE_LAYERS = LayerType.all();\n\nconst getFIRMSLatestModis24 = state => state ? state.FIRMSLatestModis24Data : {};\nconst getFIRMSLatestViirs24 = state => state ? state.FIRMSLatestViirs24Data : {};\nconst getLatestGoes = state => state ? state.GoesLatestData : {};\nconst getUserAuthDataFromState = state => state ? state.UserAuthData : {};\nconst getGetMeDataFromState = state => state ? state.GetMeData : {};\nconst getUserLayers = state => state ? state.UserLayersData : [];\nconst getVisibleLayerTypes = state => state ? state.VisibleLayerTypes : DEFAULT_VISIBLE_LAYERS;\n\nexport const getFIRMSLatestModis24GeoJSON = createSelector(\n    [getFIRMSLatestModis24],\n    (CSVString) => ( CSVToGeoJSON(CSVString) )\n)\n\nexport const getFIRMSLatestViirs24GeoJSON = createSelector(\n    [getFIRMSLatestViirs24],\n    (CSVString) => ( CSVToGeoJSON(CSVString) )\n)\n\nexport const getLatestGoesGeoJSON = createSelector(\n    [getLatestGoes],\n    result => result || {features: []}\n)\n\nexport const getUserAuthData = createSelector(\n    [getUserAuthDataFromState],\n    result => result || {}\n)\n\nexport const getMeData = createSelector(\n    [getGetMeDataFromState],\n    result => result || {}\n)\n\nexport const getUserLayersData = createSelector(\n    [getUserLayers],\n    result => result || []\n)\n\nexport const getVisibleLayerTypesData = createSelector(\n    [getVisibleLayerTypes],\n    result => result || new Set()\n)\n\n","\nexport const FIRMSLatestModis24Action = {\n  type: \"GET_LATEST_MODIS_24_EVENT\",\n  payload: {}\n};\n\nexport const FIRMSLatestViirs24Action = {\n  type: \"GET_LATEST_VIIRS_24_EVENT\",\n  payload: {}\n};\n\nexport const GoesLatestAction = {\n  type: \"GET_LATEST_GOES_EVENT\",\n  payload: {}\n};\n\nexport const SubmitUserAuthAction = (email, password) => ({\n  type: \"SUBMIT_USER_AUTH_EVENT\",\n  payload: {email, password}\n});\n\nexport const GetMeAction = {\n  type: \"SUBMIT_GET_ME_EVENT\",\n  payload: {}\n};\n\nexport const LogOutAction = {\n  type: \"SUBMIT_LOGOUT_EVENT\",\n  payload: {}\n};\n\nexport const GetUserLayersAction = {\n  type: \"GET_USER_LAYERS_EVENT\",\n  payload: {}\n};\n\nexport const ToggleLayerTypeVisibility = (layerType) => ({\n  type: \"TOGGLE_LAYER_TYPE_VISIBILITY\",\n  payload: {layerType}\n});\n","import React from 'react'\nimport { connect } from \"react-redux\";\nimport Box from '@mui/material/Box';\nimport Card from '@mui/material/Card';\n// import CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport Modal from '@mui/material/Modal';\nimport Switch from '@mui/material/Switch';\nimport LayerType from '../../models/layerType';\nimport {\n    getVisibleLayerTypesData\n  } from \"../../app/selectors\";\nimport {\nToggleLayerTypeVisibility\n} from \"../../app/actions\";\nimport { useTheme } from '@mui/material/styles';\nimport useMediaQuery from '@mui/material/useMediaQuery';\n\n\n\nfunction Menu(props) {\n    const {VisibleLayerTypesData, ToggleLayerTypeVisibilityAction} = props;\n    const createLayerTypeSwitch = (layerType, label) => <FormControlLabel control={<Switch checked={VisibleLayerTypesData.has(layerType)} onChange={() => ToggleLayerTypeVisibilityAction(layerType)} />} label={label} />\n\n    return (\n        <Card sx={{ minWidth:275, position: \"absolute\", top: {xs:\"50%\", sm:\"10%\"}, left: {xs:\"50%\", sm:\"5%\"}, transform:{xs:'translate(-50%, -50%)', sm: 'translate(0%, 0%)'} }} >\n            <CardContent>\n                <FormGroup>\n                    {createLayerTypeSwitch(LayerType.PUBLIC, \"Public Layers\")}\n                    {createLayerTypeSwitch(LayerType.PRIVATE, \"Private Layers\")}\n                    {createLayerTypeSwitch(LayerType.ACTIVE_FIRES, \"Active Fires\")}\n                    {createLayerTypeSwitch(LayerType.BIG_FIRES, \"Big Fires â€“ Historical Data\")}\n                </FormGroup>\n            </CardContent>\n        </Card>\n    )\n}\n\nconst LayersMenu = (props) => {\n    const {isMenuVisible, setIsMenuVisible} = props;\n    const theme = useTheme();\n    const bigScreen = useMediaQuery(theme.breakpoints.up('sm'));\n    const displayModal = !bigScreen;\n    const menu = <Menu {...props}></Menu>;\n    console.log(displayModal);\n    return   displayModal ?  <Modal open={isMenuVisible} onClose={() => setIsMenuVisible(false)}><div>{menu}</div></Modal> : menu;\n}\n\nconst mapStateToProps = (state) => ({\n    VisibleLayerTypesData: getVisibleLayerTypesData(state)\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n    ToggleLayerTypeVisibilityAction: (layerType) => dispatch(ToggleLayerTypeVisibility(layerType)),\n    \n  });\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n  )(LayersMenu);\n  \n","import React from 'react';\nimport './CoordinateInput.css';\n\nconst CoordinateInput = (props) => {\n    \n    const submitHandler = (e) => {\n        e.preventDefault();\n        props.onSubmit();\n    }\n\n    const textChangeHandler = (e) => {\n        props.onChange(e.target.value);\n    }\n\n    return (\n        <form onSubmit={submitHandler}>\n            <input placeholder=\"-64.10021 -31.0649\" onChange={textChangeHandler} value={props.value} type=\"text\" className=\"CoordinateInput\" />\n        </form>\n    )\n}\n\nexport default CoordinateInput;\n","\n\nconst showErrorMessage = (error) => error.response ? error.response.data.detail || error.response.detail || Object.values(error.response.data)[0] : \"Ups, we are having troubles connecting to the server. Please, try again later.\";\n\n\nexport default showErrorMessage\n\n","import LayerType from '../models/layerType';\n\nconst layerTypeFilter = {\n    [LayerType.PUBLIC]:(layer) => layer.is_public,\n    [LayerType.PRIVATE]:(layer) => !layer.is_public,\n    [LayerType.ACTIVE_FIRES]:(layer) => [\"Firms Viirs\", \"Firms Modis\"].includes(layer.name),\n    [LayerType.BIG_FIRES]:(layer) => layer.name === \"bigfires\",\n};\n\nexport default (layers, layerTypes) => {\n    console.log(layers, layerTypes);\n    const filters = [...layerTypes].map(type => layerTypeFilter[type]);\n    return layers.filter(layer => filters.map(filter => filter(layer)).some(result => result));\n}","import React, { useState, useEffect } from \"react\";\nimport Button from '@mui/material/Button';\nimport IconButton from '@mui/material/IconButton';\nimport Snackbar from '@mui/material/Snackbar';\nimport Alert from '@mui/material/Alert';\nimport Grid from '@mui/material/Grid';\nimport Box from '@mui/material/Box';\nimport { connect } from \"react-redux\";\nimport ReactMapboxGl, { Popup } from \"react-mapbox-gl\";\nimport MapLayers from \"../../components/Map/MapLayers/MapLayers\";\nimport CoordinatePointLayer from \"../../components/CoordinatePointLayer/CoordinatePointLayer\";\nimport LoginForm from \"../../components/LoginForm\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\nimport LayersMenu from \"../../components/LayersMenu\";\nimport {\n  MAP_DEFAULT_CENTER,\n  MAPBOX_ACCESS_TOKEN,\n  MAPBOX_DEFAULT_STYLE,\n} from \"../../../config/config\";\nimport {\n  SubmitUserAuthAction,\n  GetMeAction,\n  LogOutAction,\n  GetUserLayersAction,\n} from \"../../app/actions\";\nimport {\n  getUserAuthData,\n  getMeData,\n  getUserLayersData,\n  getVisibleLayerTypesData\n} from \"../../app/selectors\";\nimport CoordinateInput from \"../../components/CoordinateInput/CoordinateInput\";\nimport { withRouter } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport './Cockpit.css';\nimport getServerErrorMessage from \"../../lib/getServerErrorMessage\";\nimport filterLayers from \"../../lib/filterLayers\";\nimport MenuIcon from '@mui/icons-material/Layers';\n\n\nconst MainMap = ReactMapboxGl({\n  accessToken: MAPBOX_ACCESS_TOKEN,\n});\n\nconst Cockpit = (props) => {\n  const [center] = useState(MAP_DEFAULT_CENTER);\n  const [hiddenLayers, setHiddenLayers] = useState([]);\n  const [layers, setLayers] = useState([]);\n  const [userLayers, setUserLayers] = useState([]);\n  const [coordinateInputValue, setCoordinateInputValue] = useState(\"\");\n  const [query, setQuery] = useState(queryString.parse(props.location.search));\n  // const [showFireHistoryAnimation, setShowFireHistoryAnimation] = useState(false);\n  // const [fireHistoryIndex, setFireHistoryIndex] = useState(0);\n  const [popup, setPopup] = useState(null);\n  const [loginPopup, setLoginPopup] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [map, setMap] = useState(null);\n  const [error, setError] = useState(null);\n  const [isMenuVisible, setIsMenuVisible] = useState(false);\n  const mapRef = React.createRef();\n\n  const allLayers = [...layers,...userLayers];\n\n\n  const escFunction = (event) => {\n    if(event.keyCode === 27) {\n      setPopup(null);\n    }\n  }\n\n\n  const mapClickHandler = (clickEvent, mapEvent) => {\n    setPopup({ \n        lat: mapEvent.lngLat.lat,\n        lng: mapEvent.lngLat.lng,\n      });\n  };\n\n  const coordinateChangeHandler = (value) => {\n    setCoordinateInputValue(value);\n  };\n\n  const coordinateSubmitHandler = (coordinateValue, fly) => {\n    let value;\n    let coords;\n\n    if (!coordinateValue) {\n      value = coordinateInputValue;\n      coords = value.split(\" \");\n    } else {\n      coords = coordinateValue;\n    }\n\n    if (coords.length === 2) {\n      try {\n        const myLayer = CoordinatePointLayer(coords);\n        let updatedLayers;\n        updatedLayers = [myLayer];\n        setLayers(updatedLayers);\n        if (fly === true) {\n          map.flyTo({\n            center: coords,\n            zoom: [15],\n          });\n        }\n      } catch (e) {\n        console.log(\"Coordinate error\", e);\n      }\n    }\n  };\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    props.GetMeAction();\n    props.GetUserLayersAction();\n\n    return () => document.removeEventListener(\"keydown\", escFunction, false);\n  }, []);\n\n  useEffect(() => {\n    if (query.coord) {\n      setQuery(query.coord);\n      coordinateInputValue = query.coord;\n    }\n  }, [query]);\n\n  useEffect(() => {\n    if (props.UserAuthData.error) {\n      setError(getServerErrorMessage(props.UserAuthData.error));\n      setLoading(false);\n    } else {\n      props.GetMeAction();\n    }\n  }, [props.UserAuthData]);\n\n  useEffect(() => {\n    if (props.GetMeData.email) {\n      setLoginPopup(false);\n      setLoading(false);\n      props.GetUserLayersAction();\n    } else {\n      setUserLayers([]);\n    }\n  }, [props.GetMeData.email]);\n\n  useEffect(() => {\n    if(props.UserLayersData.error) {\n      return;\n    }\n    setUserLayers(filterLayers(props.UserLayersData, props.VisibleLayerTypesData).map(layerData => ({...layerData, ...layerData.styles, id: JSON.stringify(layerData.id), data: layerData.geojson_data,   })));\n  }, [props.UserLayersData, props.VisibleLayerTypesData]);\n\n  \n  return (\n      <div>\n        <MainMap\n          onClick={mapClickHandler}\n          onStyleLoad={(el) => {\n            setMap(el);\n            if (query) {\n              coordinateSubmitHandler(false, true);\n            }\n          }}\n          ref={mapRef}\n          style={MAPBOX_DEFAULT_STYLE}\n          center={center}\n          containerStyle={{\n            height: \"100vh\",\n            width: \"100vw\",\n          }}\n          antialias={true}\n        >\n          <MapLayers\n            layers={allLayers}\n            hiddenLayers={hiddenLayers}\n          />\n\n          { popup ? \n            <Popup\n              coordinates={[popup.lng, popup.lat]}\n              offset={{\n                'bottom-left': [12, -38],  'bottom': [0, -38], 'bottom-right': [-12, -38]\n              }}>\n              {popup.title ? <h1>{popup.title}</h1> : null }\n              <em>{popup.lng}, {popup.lat}</em>\n            </Popup>\n          : null}        \n\n\n        </MainMap>\n        <Grid sx={{position:\"absolute\", top: \"0%\", left: \"0%\", marginTop:\"25px\", alignItems:\"top\"}} container>\n          <Grid item xs={0} sm={0}>\n            <Box display={{ sm: \"none\" }}>\n              <IconButton onClick={() => setIsMenuVisible(!isMenuVisible)}  size=\"large\" color=\"primary\" aria-label=\"menu\" component=\"span\">\n                <MenuIcon fontSize=\"inherit\"/>\n              </IconButton>\n            </Box>\n          </Grid>\n          <Grid spacing={3} xs={10} sm={12} sx={{ alignItems: \"center\", textAlign:\"right\"}}  item container >\n            <Grid item xs={0} sm={6} md={8} display={{ xs: \"none\", sm: \"block\"}}/>\n            <Grid item xs={12} sm={3} md={2}>\n            {!props.GetMeData.email ? <Button onClick={() => setLoginPopup(!loginPopup)} variant=\"contained\">Login</Button> : <Button onClick={props.LogOutAction} variant=\"contained\">Logout</Button>}\n            </Grid>\n            <Grid item xs={12} sm={3} md={2}>\n              <CoordinateInput\n                value={coordinateInputValue}\n                onChange={coordinateChangeHandler}\n                onSubmit={(event) => coordinateSubmitHandler(event, true)}\n              />\n            </Grid>\n\n          </Grid>\n\n          {/* <Grid item xs={4}>\n            xs=4\n          </Grid>\n          <Grid item xs={8}>\n            xs=8\n          </Grid> */}\n        </Grid>\n\n        <Box display={{ xs: isMenuVisible ? \"block\" : \"none\", sm:\"block\" }}>\n          <LayersMenu isMenuVisible={isMenuVisible} setIsMenuVisible={setIsMenuVisible}/>\n        </Box>\n        {error && <Snackbar open={error} autoHideDuration={6000} onClose={() => setError(null)}>\n          <Alert onClose={() => setError(null)} severity=\"error\" sx={{ width: '100%' }}>\n          {error}\n          </Alert>\n        </Snackbar>}\n        {loginPopup && !props.UserAuthData.isLoggedIn && <LoginForm open={loginPopup} setOpen={setLoginPopup} onSubmit={(email, password) => {\n          setLoading(true);\n          props.SubmitUserAuthAction(email, password);\n        }}/>}\n        {loading && <LoadingIndicator/>}\n      </div>\n\n    );\n}\n\n\nconst mapStateToProps = (state) => ({\n  UserAuthData: getUserAuthData(state),\n  GetMeData: getMeData(state),\n  UserLayersData: getUserLayersData(state),\n  VisibleLayerTypesData: getVisibleLayerTypesData(state),\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  SubmitUserAuthAction: (email, password) => dispatch(SubmitUserAuthAction(email, password)),\n  GetMeAction: () => dispatch(GetMeAction),\n  LogOutAction: () => dispatch(LogOutAction),\n  GetUserLayersAction: () => dispatch(GetUserLayersAction),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withRouter(Cockpit));\n","import React from 'react';\nimport Cockpit from '../Cockpit/Cockpit';\nimport {\n  BrowserRouter as Router,\n  Route,\n} from 'react-router-dom'\nimport './App.css';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"\" component={Cockpit}/>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from \"react-redux\";\nimport configureStore from './app/app/store';\nimport * as serviceWorker from './app/serviceWorker';\nimport App from './app/containers/App/App';\nimport './index.css';\n\nReactDOM.render(\n    <Provider store={configureStore()}>\n      <App />\n    </Provider>,\n    document.getElementById('root')\n  );\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}